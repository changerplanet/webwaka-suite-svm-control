Project

webwaka-suite-svm-control

Role

You are implementing Phase 5C ‚Äî SVM Control Layer for WebWaka.

This is a PURE DECLARATIVE CONTROL PACKAGE.

‚∏ª

üö´ STRICT PROHIBITIONS

‚ùå No UI
‚ùå No runtime logic
‚ùå No pricing logic
‚ùå No inventory logic
‚ùå No auth logic
‚ùå No API calls
‚ùå No database usage

This repo contains DATA ONLY.

‚∏ª

üéØ OBJECTIVE

Define all control declarations required for a Single Vendor Marketplace (SVM), including:
	1.	Capabilities
	2.	Entitlements
	3.	Feature Flags
	4.	Dashboard Sections + Gating Matrix

All outputs must be:
	‚Ä¢	Deterministic
	‚Ä¢	JSON-serializable
	‚Ä¢	Pure data
	‚Ä¢	Test-verified

‚∏ª

1Ô∏è‚É£ Capabilities to Define

Catalog
	‚Ä¢	svm:catalog.view
	‚Ä¢	svm:catalog.manage

Orders
	‚Ä¢	svm:order.create
	‚Ä¢	svm:order.view
	‚Ä¢	svm:order.cancel
	‚Ä¢	svm:order.refund

Customers
	‚Ä¢	svm:customer.view
	‚Ä¢	svm:customer.manage

Reports
	‚Ä¢	svm:reports.view

Settings
	‚Ä¢	svm:settings.view
	‚Ä¢	svm:settings.manage

‚∏ª

2Ô∏è‚É£ Entitlements to Define

Entitlement	Description
svm-access	Base marketplace access
svm-orders-enabled	Can place/manage orders
svm-refunds-enabled	Can process refunds
svm-offline-enabled	Offline order capture
svm-advanced-reports	Advanced analytics
svm-admin	Full SVM administration


‚∏ª

3Ô∏è‚É£ Feature Flags to Define

Flag	Default
svm-enabled	true
svm-offline-orders	false
svm-guest-checkout	false
svm-digital-products	false
svm-physical-products	true
svm-inventory-enforced	true
svm-discounts-enabled	false


‚∏ª

4Ô∏è‚É£ Dashboard Sections

Define dashboard sections ONLY, no UI.

Section	Permissions	Entitlements	Flags
Storefront	svm:catalog.view	svm-access	svm-enabled
Orders	svm:order.view	svm-orders-enabled	svm-enabled
Customers	svm:customer.view	svm-access	svm-enabled
Reports	svm:reports.view	svm-advanced-reports	svm-enabled
Settings	svm:settings.view	svm-admin	svm-enabled


‚∏ª

5Ô∏è‚É£ Hard Requirements
	‚Ä¢	All declarations must be exported
	‚Ä¢	No hardcoded roles
	‚Ä¢	No logic functions
	‚Ä¢	Fully test-covered
	‚Ä¢	Snapshot-safe
	‚Ä¢	Tenant-isolated

‚∏ª

6Ô∏è‚É£ Tests Required

Hard-stop test must prove:

Given a tenant context, permissions, entitlements, and feature flags, the SVM control layer produces a deterministic, explainable dashboard and access matrix.

	‚Ä¢	Determinism test (10√ó repeat)
	‚Ä¢	JSON serialization test
	‚Ä¢	No mutation test

‚∏ª

üõë HARD STOP

After completion:

‚õî STOP
‚õî Do NOT implement UI
‚õî Await explicit authorization for Phase 5C-3 (SVM UI)

‚∏ª

‚úÖ Deliverables
	‚Ä¢	Control declarations
	‚Ä¢	Tests (‚â•80% coverage)
	‚Ä¢	Updated module.manifest.json
	‚Ä¢	Final commit on main

‚∏ª

END PROMPT